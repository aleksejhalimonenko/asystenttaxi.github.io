<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Форма ввода данных о топливе</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .form-step { display: none; }
        .form-step.active { display: block; }
    </style>
</head>
<body>
    <h1>Добавить данные о заправке</h1>
    <form id="fuelForm">
        <div class="form-step active">
            <label for="fuelType">Тип топлива:</label>
            <input type="text" id="fuelType" required>
            <button type="button" onclick="nextStep()">Далее</button>
        </div>
        <div class="form-step">
            <label for="mileage">Пробег:</label>
            <input type="number" id="mileage" required>
            <button type="button" onclick="prevStep()">Назад</button>
            <button type="button" onclick="nextStep()">Далее</button>
        </div>
        <div class="form-step">
            <label for="fuelCost">Стоимость за 1 литр:</label>
            <input type="number" id="fuelCost" required>
            <label for="fuelAmount">Количество литров:</label>
            <input type="number" id="fuelAmount" required>
            <button type="button" onclick="prevStep()">Назад</button>
            <button type="button" onclick="submitForm()">Отправить</button>
        </div>
    </form>

    <div id="response"></div>

    <script>
        let currentStep = 0;

        function nextStep() {
            const steps = document.querySelectorAll('.form-step');
            steps[currentStep].classList.remove('active');
            currentStep++;
            steps[currentStep].classList.add('active');
        }

        function prevStep() {
            const steps = document.querySelectorAll('.form-step');
            steps[currentStep].classList.remove('active');
            currentStep--;
            steps[currentStep].classList.add('active');
        }

        async function submitForm() {
            const data = {
                fuelType: document.getElementById('fuelType').value,
                mileage: document.getElementById('mileage').value,
                fuelCost: document.getElementById('fuelCost').value,
                fuelAmount: document.getElementById('fuelAmount').value,
                comment: '', // Добавьте, если нужно
                distance: 0 // Добавьте, если нужно
            };

            const response = await fetch('https://script.google.com/macros/s/AKfycbwMuKH9J9Te6zManQYNDray-v-LsvK33Dn7QAjTfJnNCWj3oKV2KjBn7TEK5pqGNjN3iA/exec', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            const result = await response.text();
            document.getElementById('response').innerText = result;
        }
    </script>
</body>
</html>
